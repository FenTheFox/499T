/*! search-suggest 2013-08-29 */
KISSY.add("tbc/search-suggest/1.0.14/plugin/utils",function(a,b){function c(a){return d?d:(c.superclass.constructor.call(this,a||{}),d=this,void 0)}var d;return a.extend(c,b,{pluginInitializer:function(a){var b=this;b.set("caller",a)},getCookie:function(b){var c=window;if(c.userCookie&&!a.isUndefined(c.userCookie[b]))return c.userCookie[b];if(c.SRP_COOKIES||(c.SRP_COOKIES={})&&a.isUndefined(SRP_COOKIES[b])){var d=document.cookie.match("(?:^|;)\\s*"+b+"=([^;]*)");SRP_COOKIES[b]=d&&d[1]?decodeURIComponent(d[1]):""}return SRP_COOKIES[b]},fireEvent:function(a,b){var c=document;if(c.createEvent){var d=c.createEvent("MouseEvents");d.initEvent(b,!0,!1),a.dispatchEvent(d)}else c.createEventObject&&a.fireEvent("on"+b)}},{ATTRS:{pluginId:{value:"utils"}}}),c},{requires:["base"]}),KISSY.add("tbc/search-suggest/1.0.14/plugin/bts",function(a,b,c){function d(a){d.superclass.constructor.call(this,a||{})}return a.extend(d,b,{getBucket:function(){var a=this,b=a.getCookieT(),c=a.getTestBucket()||a.retBucket(b,20,-4,4)-0;return c},getTestBucket:function(){var a=location.search,b=a.match(/alg_bts=(\d+)/);return b&&b[1]?b[1]-0:void 0},getCookieT:function(){var a=new c,b=a.getCookie("t");return b},retBucket:function(a,b,c,d){return!a&&"0"||this.countBucket(a,b,c,d)},countBucket:function(a,b,c,d){var e=a.substr(c,d),f=parseInt(e,16);return f%b+1+""}},{ATTRS:{pluginId:{value:"bts"}}}),d},{requires:["base","./utils"]});