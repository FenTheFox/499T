/*!CK:3914687865!*//*1413325217,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["4x9Cd"]); }

__d("LitestandStream",["Arbiter","DOM","LitestandMessages","LitestandStoryInsertionStatus","LitestandStreamConfig","ViewportBounds","copyProperties","csx","ge","getElementPosition"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var q,r,s,t,u,v={init:function(w,x,y){q=x;s=y;t=w;r=u=0;g.subscribe(i.STORIES_INSERTED,function(z,aa){if(!aa||!aa.substream_id||!q)return;var ba=h.scry(o(aa.substream_id),v.getStoriesSelector());ba.forEach(function(ca){var da=h.scry(ca,"._5pbw"),ea=h.scry(ca,"._5pcp")[0],fa=h.scry(ca,"._5pbx")[0];if(da[0]&&ea&&fa){var ga='';for(var ha=0;ha<da.length;ha++)ga+=h.getID(da[ha])+' ';ga.trim();ca.setAttribute('aria-labelledby',ga+' '+h.getID(ea)+' '+h.getID(fa));}var ia=ca.getAttribute('data-timestamp'),ja=ca.getAttribute('data-ft')&&JSON.parse(ca.getAttribute('data-ft')).ei;if(!ja&&ia&&ia<q)r++;u++;});});},getEmptySubstreamsSelector:function(){return "._4ikz:empty";},getStoriesSelector:function(){return "._5jmm";},getStreamConfig:function(w){return m({bufferPixels:1000,firstPagerScrollBuffer:100,maxStories:null,pagerController:'LitestandMoreStoriesPagelet',pagerSelector:v.getPagerSelector(),pollIntervalMS:null,newStoryIdleTime:60000,crossPage:k.load_more_units_cross_page},w);},getPagerSelector:function(){return "._2as,._5us6";},getStreamRoot:function(){return t;},getVisibleStoryCount:function(w){var x=h.scry(w,v.getStoriesSelector());return x.length;},hideOffscreenSubstreams:function(){return k.hide_offscreen_substreams;},getOldStoryCount:function(){return r;},getTotalStoryCount:function(){return u;},getSectionID:function(){return s;},canInsertNewerStories:function(){if(l.getTop()>p(v.getStreamRoot()).y)return false;return j.canInsert();},getFeedStreamID:function(){return parseInt(t.id.split('feed_stream_')[1],16)%1e+08;}};e.exports=v;},null);
__d("ControlledReferer",["Event","URI","UserAgent_DEPRECATED"],function(a,b,c,d,e,f,g,h,i){var j={useFacebookReferer:function(k,l,m){var n=false;function o(){if(n)return;var q=k.contentWindow.location.pathname;if(q!=='/intern/common/referer_frame.php'&&q!=='/common/referer_frame.php')return;n=true;k.contentWindow.document.body.style.margin=0;l();}var p;if(document.domain!=='facebook.com'){p='/intern/common/referer_frame.php';}else if(i.opera()){p='/common/referer_frame.php';}else if(h().isSecure()){p='https://s-static.ak.facebook.com/common/referer_frame.php';}else p='http://static.ak.facebook.com/common/referer_frame.php';if(m)p+='?fb_source='+m;g.listen(k,'load',o);k.src=p;},useFacebookRefererHtml:function(k,l,m){j.useFacebookReferer(k,function(){k.contentWindow.document.body.innerHTML=l;},m);}};e.exports=j;},null);
__d("TrackingPixel",["Arbiter","ControlledReferer"],function(a,b,c,d,e,f,g,h){var i={_iframe:undefined,loadWithNoReferrer:function(j){if(!i._iframe){var k=document.createElement('iframe');k.frameborder=0;k.width=k.height=1;k.style.position='absolute';k.style.top='-10px';h.useFacebookReferer(k,function(){g.inform('TrackingPixel/iframeIsLoaded',null,g.BEHAVIOR_PERSISTENT);},null);document.body.appendChild(k);i._iframe=k;}g.subscribe('TrackingPixel/iframeIsLoaded',function(){var l=i._iframe.contentWindow.document,m=l.createElement('img');m.src=j;});}};e.exports=i;},null);
__d("ExternalTrackingTag",["AsyncSignal","TrackingPixel","Event"],function(a,b,c,d,e,f,g,h,i){var j={listenForElementClick:function(k,l,m,n,o){i.listen(k,'click',function(){j.sendRequest(l,m,n,o);});},sendRequest:function(k,l,m,n){if(!k)return;new g('/ads/external_tracking_tag/',{href:k,tracking_tag_id:l,adgroup_id:m,ad_id:n}).send();h.loadWithNoReferrer(k);}};e.exports=j;},null);
__d("FeedAdsClickLogger",["Arbiter","AsyncRequest","Banzai","collectDataAttributes","DOM","ge","LitestandMessages","LitestandStream","Parent","TrackingNodes","ExternalTrackingTag","URI","isFacebookURI"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){var t='ssinfeed',u={},v=false,w=[];function x(){"use strict";}x.prototype.init=function(y){"use strict";g.subscribe("ClickRefAction/new",this.onNewUserAction.bind(this));if(y.append_tracking_data_to_links){this.appendTrackingDataToLinks();g.subscribe(m.STORIES_INSERTED,this.appendTrackingDataToLinks.bind(this));g.subscribe('FeedAdsClickLogger/refreshTrackingData',this.appendTrackingDataToLinks.bind(this),g.SUBSCRIBE_NEW);}};x.prototype.getStories=function(){"use strict";var y=n.getStreamRoot();if(y){return k.scry(y,n.getStoriesSelector());}else{var z=l('home_stream');if(z)return k.scry(z,'.uiStreamStory');}return [];};x.prototype.appendTrackingDataToLinks=function(){"use strict";var y=this.getStories();for(var z=0;z<y.length;z++){var aa=y[z];if(aa in w)continue;var ba=aa.getAttribute('data-ft');if(!ba||(ba.indexOf('ei')===-1)&&(ba.indexOf('mei')===-1))continue;var ca=k.scry(aa,'a');for(var da=0;da<ca.length;da++){var ea=ca[da];if(ea.getAttribute('ajaxify')!=null)continue;if(ea.getAttribute('rel')!=null)continue;var fa=ea.getAttribute('href');if(!fa||fa.charAt(0)==='#')continue;var ga=r(ea);if(s(ga)===false)continue;if(ga.isLinkshimURI()===true)continue;var ha=j(ea,['ft']).ft,ia=ga.getQueryData();ia.ft=ha;ia.__md__=0;ga.setQueryData(ia);ea.setAttribute('href',ga.toString());ea.setAttribute('onmousedown',"this.href = this.href.replace('__md__=0', '__md__=1');");}w.push(aa);}};x.prototype.getHref=function(y){"use strict";return (y.getAttribute&&(y.getAttribute('ajaxify')||y.getAttribute('data-endpoint'))||y.action||y.href);};x.prototype.sendLogRequest=function(y){"use strict";var z=y.ei||y.ai;if(!z&&y.mei)z=y.mf_story_key;if(y!==null&&typeof(z)==="string"){var aa=false;if(y.tn){var ba=p.parseTrackingNodeString(y.tn);for(var ca=0;ca<ba.length;ca++){var da=ba[ca][0];switch(da){case p.types.LIKE_LINK:case p.types.UNLIKE_LINK:case p.types.COMMENT:case p.types.ADD_COMMENT_BOX:return;case p.types.XBUTTON:case p.types.HIDE_LINK:case p.types.REPORT_SPAM_LINK:case p.types.HIDE_ALL_LINK:case p.types.DROPDOWN_BUTTON:case p.types.UNHIDE_LINK:return;case p.types.RELATED_SHARE_ARTICLE:case p.types.RELATED_SHARE_VIDEO:return;case p.types.ATTACHMENT:case p.types.USER_MESSAGE:aa=true;break;}}}var ea=Date.now(),fa=500;y.duplicate_click=!!u[z]&&(ea-u[z]<fa);u[z]=ea;if(i.isEnabled('ssinfeed')){i.post(t,y,{delay:0,retry:i.isEnabled('ssinfeed_retry')});}else{var ga=new h('/ajax/ssinfeed/end/').setData(y).setAllowCrossPageTransition(true).setMethod('POST');ga.send();}var ha=y.href;if(r(ha).isLinkshimURI()&&r(ha).getQueryData())ha=r(ha).getQueryData().u;if(aa&&y.external_tracking_tag&&!y.duplicate_click&&ha&&s(r(ha))===false)q.sendRequest(y.external_tracking_tag.url,y.external_tracking_tag.tag_id,y.external_tracking_tag.adgroup_id);}};x.prototype.onNewUserAction=function(y,z){"use strict";if(!z.node)return;var aa=this.getHref(z.node),ba=o.byTag(z.node,'input')||o.byTag(z.node,'button');if(!aa&&ba&&ba.type=="submit"&&ba.getAttribute&&ba.getAttribute('data-ft'))aa="#";var ca;if(aa&&z.event&&(z.event.type==='click'||z.event.type==='contextmenu')){ca=j(z.node,['ft']);ca.ft.href=aa;ca.ft.mouse_type=z.event.type;this.sendLogRequest(ca.ft);}};e.exports.init=function(y){if(v===false){(new x()).init(y);v=true;}};},null);
__d("XAdPreferencesInterestsWriteControllerURIBuilder",["XControllerURIBuilder"],function(a,b,c,d,e,f){e.exports=b("XControllerURIBuilder").create("\/ads\/preferences\/edit_interests\/",{ad_id:{type:"Int",required:true},action:{type:"Enum",required:true},type:{type:"Enum",required:true},fbids:{type:"IntVector",required:true}});},null);
__d("XAdPreferencesNUXControllerURIBuilder",["XControllerURIBuilder"],function(a,b,c,d,e,f){e.exports=b("XControllerURIBuilder").create("\/ads\/preferences\/nux\/",{type:{type:"String",required:true}});},null);
__d("XAdsPreferencesFeedbackControllerURIBuilder",["XControllerURIBuilder"],function(a,b,c,d,e,f){e.exports=b("XControllerURIBuilder").create("\/ads\/preferences\/feeedback\/",{ad_id:{type:"Int",required:true},favorite:{type:"Enum",required:true}});},null);
__d("AdsPrefs",["AsyncRequest","CSS","DOM","Event","tidyEvent","cx","csx","XAdPreferencesInterestsWriteControllerURIBuilder","XAdPreferencesNUXControllerURIBuilder","XAdsPreferencesFeedbackControllerURIBuilder"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){function q(u,v){var w=i.scry(u.parentNode,"div._g1j")[0],x=h.hasClass(w,"_2zny")?'add':'del',y=new n().setInt('ad_id',v).setEnum('action',x).setEnum('type',w.getAttribute('data-type')).setIntVector('fbids',[w.getAttribute('data-fbid')]).getURI();new g(y).send();h.toggleClass(w,"_2zny");return w;}function r(u,v){h.toggleClass(u,"hidden_elem");var w=h.hasClass(u,"hidden_elem")?'ad_useful':'ad_neutral',x=new p().setInt('ad_id',v).setEnum('favorite',w).getURI(),y=new g(x);y.send();}function s(){var u=new o().setString('type','interest_nux_ts').getURI();new g(u).send();}var t={initRHCFeedback:function(u,v,w){k(j.listen(v,'click',function(x){r(w,u);x.kill();}));},initSuggestions:function(u,v,w){k(j.listen(v,'click',function(x){q(x.target,u);}));if(w)k(j.listen(w,'click',function(){i.scry(v,'li').forEach(function(x){h.show(x);});h.hide(w);}));},initMatchingInterests:function(u,v,w){var x=i.scry(v,"div._g1j")[0];if(x){h.removeClass(x,"_2hg");}else return;k(j.listen(v,'click',function(y){q(x,u);var z=i.scry(v,"span._58yk")[0];if(h.hasClass(x,"_2zny")){h.removeClass(z,'hidden_elem');if(w){w.subscribe('hide',s);w.setContext(x);w.show();w=null;}}else h.addClass(z,'hidden_elem');}));},initExpandable:function(u){k(j.listen(u,'click',function(v){var w=i.scry(u,"div._2fdq")[0],x=i.scry(u,"._4r43")[0],y=i.scry(u,"._1uhj")[0];h.toggleClass(x,'hidden_elem');h.toggleClass(y,'hidden_elem');h.toggleClass(w,'hidden_elem');}));},toggleFavorite:function(u){var v=i.find(u.getRoot(),'img');r(v,u.getLabel());}};e.exports=t;},null);
__d("EntstreamFeedObject",["Parent","cx"],function(a,b,c,d,e,f,g,h){var i={getRoot:function(j){return g.byClass(j,"_5jmm");}};e.exports=i;},null);
__d("EntstreamFeedObjectFollowup",["CSS","DOM","EntstreamFeedObject","Event","csx","cx","ge"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n={getFollowup:function(o){var p=h.scry(o,"._5lum");if(!p.length)p=h.scry(o.parentNode,"._5lum");return p?p[0]:null;},initCloseButton:function(o){var p=h.find(o,"._5xsl"),q=j.listen(p,'click',function(){q.remove();h.remove(o);});o.listener=q;},stopListenCloseButton:function(o){if(o.listener)o.listener.remove();},addFollowup:function(o,p,q){var r=g.hasClass(o,"_5pat"),s=h.create('div',{className:"_5lum"});if(r){g.addClass(s,"_5pau");}else g.addClass(s,"_1f84");if(q)g.addClass(s,q);if(p){h.appendContent(s,p);this.initCloseButton(s);h.insertBefore(o,s);}else{var t=n.getFollowup(o);if(t)this.removeFollowup(t);h.prependContent(o,s);}return s;},removeFollowup:function(o){var p=n.getFollowup(o);this.stopListenCloseButton(p);h.remove(p);},appendToFollowup:function(o,p){var q=i.getRoot(m(o)),r=n.getFollowup(q);h.appendContent(r,p);},getFollowupMessage:function(o){var p=h.find(o,"._1f86");return p;},replaceFollowupMessage:function(o,p){this.stopListenCloseButton(o);var q=n.getFollowupMessage(o);h.replace(q,p);this.initCloseButton(o);}};e.exports=n;},null);
__d("EntstreamFeedObjectFollow",["EntstreamFeedObject","EntstreamFeedObjectFollowup","Event","Parent","cx","ge"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m={toggleFollow:function(n,o,p){var q=n.getValue()=='follow_post'?p.follow_post:p.unfollow_post,r=g.getRoot(l(o)),s=h.getFollowup(r);if(s){h.replaceFollowupMessage(s,q);}else{s=h.addFollowup(r,q,"_521o")||h.getFollowup(r);i.listen(s,'click',function(event){var t=event.getTarget(),u="_1f89";if(j.byClass(t,u)){m.toggleFollow(n,o,p);n.toggleMenuItem();}});}}};e.exports=m;},null);
__d("EntstreamFeedObjectHide",["Event","CSS","EntstreamFeedObject","EntstreamFeedObjectFollowup","Focus","TabbableElements","cx","ge"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o={hide:function(p,q){var r=i.getRoot(n(p));j.addFollowup(r,q);h.addClass(r,"_i6m");o.setFocus(r);},registerUnhide:function(p,q){g.listen(p,'click',function(){if(q)q.send();o.unhide(i.getRoot(p));});},setFocus:function(p){var q=l.find(p);if(q&&q[0])k.setWithoutOutline(q[0]);},unhide:function(p){j.removeFollowup(p);h.removeClass(p,"_i6m");o.setFocus(p);}};e.exports=o;},null);
__d("YouTube",["CSS","DOM","DOMQuery","Event","Keys","LitestandStoryInsertionStatus","SubscriptionsHandler","UserAgent_DEPRECATED","Focus","copyProperties","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){function r(s,t,u){"use strict";var v=new m();v.addSubscriptions(j.listen(s,'load',this.listening.bind(this)),l.registerBlocker(function(){return this.playerState===r.STATE_PLAYING;}.bind(this)));p(this,{iframe:s,autofocus:t,autoplay:u,playerState:r.STATE_UNSTARTED,muted:false,volume:100,currentTime:0,timer:null,handler:v});if(t)o.set(s);}r.prototype.id=function(){"use strict";return this.iframe.id;};r.prototype.post=function(s){"use strict";s.id=this.id();this.iframe.contentWindow.postMessage(JSON.stringify(s),'*');};r.prototype.listening=function(){"use strict";this.post({event:'listening'});clearTimeout(this.timer);this.timer=setTimeout(this.listening.bind(this),100);};r.prototype.update=function(s){"use strict";if(s.event=='initialDelivery'){clearTimeout(this.timer);if((n.webkit()||n.firefox())&&s.info&&s.info.debugText.match(/flashVersion/)){this.addAccessibleButtons();if(n.firefox())this.iframe.tabIndex=-1;}}if(s.info)['playerState','muted','volume','currentTime'].forEach(function(t){if(s.info.hasOwnProperty(t))this[t]=s.info[t];}.bind(this));};r.prototype.togglePlay=function(){"use strict";this.post({event:'command',func:(this.playerState==r.STATE_PLAYING)?'pauseVideo':'playVideo'});};r.prototype.toggleMute=function(){"use strict";this.post({event:'command',func:this.muted?'unMute':'mute'});};r.prototype.addAccessibleButtons=function(){"use strict";this.addAccessibleButton('Mute',"_505m",this.toggleMute.bind(this));this.addAccessibleButton('Play',"_505n",this.togglePlay.bind(this));};r.prototype.addAccessibleButton=function(s,t,u){"use strict";var v=h.create('button',{'class':t,tabindex:0},s);h.insertAfter(this.iframe,v);this.handler.addSubscriptions(j.listen(v,'click',u),j.listen(v,'mouseover',g.hide.bind(null,v)),j.listen(this.iframe,'mouseout',g.show.bind(null,v)),j.listen(v,'focus',function(){if(!this.autoplay&&this.playerState==r.STATE_UNSTARTED){this.post({event:'command',func:'playVideo'});this.post({event:'command',func:'pauseVideo'});}}.bind(this)),j.listen(v,'keydown',function(w){switch(w.keyCode){case k.UP:case k.DOWN:this.post({event:'command',func:'setVolume',args:[this.volume+((w.keyCode==k.UP)?10:-10)]});w.prevent();break;case k.RIGHT:case k.LEFT:this.post({event:'command',func:'seekTo',args:[this.currentTime+((w.keyCode==k.RIGHT)?10:-10)]});w.prevent();break;}}.bind(this)));return v;};r.prototype.destroy=function(){"use strict";this.handler.release();delete r.instances[this.id()];if(!Object.keys(r.instances).length)r.handler.remove();};r.register=function(s,t,u){"use strict";if(!window.postMessage)return;if(!Object.keys(r.instances).length)r.handler=j.listen(window,'message',function(w){try{var x=JSON.parse(w.data);if(r.instances[x.id])r.instances[x.id].update(x);}catch(w){}});var v=new r(i.find(s,'iframe'),t,u);r.instances[v.id()]=v;};p(r,{STATE_UNSTARTED:-1,STATE_PLAYING:1,instances:{},handler:null});e.exports=r;},null);
__d("EntstreamHomeFeedObjectHide",["AsyncRequest","CSS","DOM","EntstreamFeedObject","EntstreamFeedObjectHide","Event","TrackingNodes","YouTube","csx","cx","ge","tx","$"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){var t={stopVideo:function(u){var v=s(u),w=i.find(v,"^._5jmm"),x=i.scry(w,'iframe');for(var y=0;y<x.length;y++){var z=n.instances[i.getID(x[y])];if(z&&(z.playerState===n.STATE_PLAYING))z.togglePlay();}var aa=i.scry(w,'video');for(var ba=0;ba<aa.length;ba++)if(('paused' in aa[ba])&&!aa[ba].paused)if(typeof aa[ba].pause==='function')aa[ba].pause();},hide:function(u,v,w,x){t.stopVideo(u);var y=j.getRoot(q(u)),z=h.hasClass(y,"_5pat"),aa;if(z&&w=='afrostart'){aa='';}else{var ba=w=='hide'||w=='afrostart'?"This story is now hidden from your News Feed.":"This story has been marked as spam.",ca=w=='hide'||w=='afrostart'?"Unhide":"Undo",da=m.getTrackingInfo(m.types.UNHIDE_LINK),ea=i.create('a',{href:'#','data-ft':da},ca),fa={};if(v)fa.token=v;if(x)fa.hideable_token=x;var ga=new g().setURI('/ajax/entstream/home/story/unhide').setMethod('POST').setData(fa).setRelativeTo(ea);k.registerUnhide(ea,ga);aa=i.create('div',{'class':"_1f86"},[ba,' ',ea]);}k.hide(u,aa);},registerHide:function(u,v,w,x){l.listen(u,'click',function(){t.hide(u.getAttribute('id'),v,w,x);});}};e.exports=t;},null);
__d("MenuTogglingItem",["DOM","MenuItem"],function(a,b,c,d,e,f,g,h){for(var i in h)if(h.hasOwnProperty(i))k[i]=h[i];var j=h===null?null:h.prototype;k.prototype=Object.create(j);k.prototype.constructor=k;k.__superConstructor__=h;function k(){"use strict";if(h!==null)h.apply(this,arguments);}k.prototype.handleClick=function(){"use strict";this.toggleMenuItem();return j.handleClick.call(this);};k.prototype.toggleMenuItem=function(){"use strict";this._swap('ajaxify','toggleAjaxify');this._swap('value','toggleValue');this._toggleItemText();};k.prototype.setValue=function(l){"use strict";this._data.value=l;};k.prototype._toggleItemText=function(){"use strict";var l=this._anchor;this._swap('markup','toggleMarkup');g.replace(l,this._renderItemContent());};k.prototype._swap=function(l,m){"use strict";var n=this._data[l];this._data[l]=this._data[m];this._data[m]=n;};e.exports=k;},null);
__d("EntstreamHomeFeedObjectOptionsMenu",["AdsPrefs","BanzaiLogger","CSS","DOM","EntstreamHomeFeedObjectHide","EntstreamFeedObject","EntstreamFeedObjectFollow","MenuTogglingItem","UFICentralUpdates","UFIConstants","cx","ge"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){function s(t,u,v,w,x,y,z,aa,ba,ca){t.subscribe('itemclick',function(da,ea){switch(ea.item.getValue()){case 'hide':case 'markspam':case 'afrostart':k.hide(u,v,ea.item.getValue(),x);break;case 'afro_direct_action':var fa=ea.item.getRoot().getAttribute('data-optimistic-hide');if(fa){var ga=j.create('div',{className:"_5lum"});j.appendContent(ga,ea.item.getRoot().getAttribute('data-action-in-progress-string'));j.insertBefore(l.getRoot(r(u)).firstChild,ga);i.addClass(l.getRoot(r(u)),"_i6m");}break;case 'follow_post':case 'unfollow_post':m.toggleFollow(ea.item,u,w);break;case 'ad_useful':case 'ad_neutral':g.toggleFavorite(ea.item);da.kill();break;}var ha=ea.item.getRoot().getAttribute('data-feed-option-name');if(ha)h.log('FeedStoryOptionMenuLoggerConfig',{option_name:ha,event_type:'clk',feed_location:z,session_id:aa,is_sponsored:ba,is_self_story:ca});}.bind(this));t.subscribe('show',function(){h.log('FeedStoryOptionMenuLoggerConfig',{option_name:'root',event_type:'clk',feed_location:z,session_id:aa,is_sponsored:ba,is_self_story:ca});t.forEachItem(function(da){var ea=da.getRoot().getAttribute('data-feed-option-name');if(ea)h.log('FeedStoryOptionMenuLoggerConfig',{option_name:ea,event_type:'imp',feed_location:z,session_id:aa,is_sponsored:ba,is_self_story:ca});da.onShow();});});o.subscribe('update-actions',function(da,ea){if(ea.payloadsource===p.UFIPayloadSourceType.USER_ACTION){var fa=ea.actions||[];for(var ga=0;ga<fa.length;ga++)if(fa[ga].actiontype===p.UFIActionType.ADD_COMMENT_ACTION){if(fa[ga].feedbackfbid!=y)return;t.getRoot();t.forEachItem(function(ha){if(ha instanceof n&&ha.getValue()==='unfollow_post')ha.handleClick();});}}});}e.exports=s;},null);
__d("KeyboardShortcuts",["KeyEventController","Layer","ModalLayer"],function(a,b,c,d,e,f,g,h,i){function j(l,m,n){"use strict";this.key=l;this.handler=m;this.filter=n;this.register();}j.prototype.register=function(){"use strict";this.token=g.registerKey(this.key,this.handler,this.filter);};j.prototype.remove=function(){"use strict";this.token.remove();};var k={_tokens:[[]],register:function(l,m,n){n=n||{};var o=n.allowDefault?m:function(event,s){m.apply(this,arguments);event.prevent();},p=n.baseFilters||[g.defaultFilter],q=function(event,s){for(var t=0,u=p.length;t<u;t++)if(!p[t](event,s))return false;return !n.filter||n.filter(event,s);},r=new j(l,o,q);this._tokens[this._tokens.length-1].push(r);return r;},init:function(){h.subscribe('show',function(l,m){if(m.hasBehavior(i))this.pushLayer();}.bind(this));h.subscribe('hide',function(l,m){if(m.hasBehavior(i))this.popLayer();}.bind(this));},pushLayer:function(){var l=this._tokens[this._tokens.length-1];l&&l.forEach(function(m){m.remove();});this._tokens.push([]);},popLayer:function(){var l=this._tokens.length-1;if(l<0)return;var m=this._tokens[l];m.forEach(function(o){o.remove();});this._tokens.pop();var n=this._tokens[l-1];n&&n.forEach(function(o){o.register();});}};k.init();e.exports=k;},null);
__d("FeedBaseKeyboardController",["$","AccessibilityLogger","Arbiter","AsyncDialog","AsyncRequest","Banzai","BanzaiODS","BanzaiNectar","CSS","DOM","DOMScroll","DOMQuery","Event","Focus","KeyboardShortcuts","LikeConfirmer","NavigationMessage","Parent","Run","SubscriptionsHandler","Vector","ViewportBounds","emptyFunction","ge","getActiveElement","isAsyncScrollQuery","throttle"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga){var ha;function ia(){ha=o.hasClass(document.documentElement,'tinyViewport')?0:g('pagelet_bluebar').offsetTop+g('pagelet_bluebar').offsetHeight;}setTimeout(ia,0);s.listen(window,'resize',ga(ia));function ja(ka){"use strict";this.root=ka;this.init();}ja.prototype.getStories=function(){"use strict";};ja.prototype.getParentStory=function(ka){"use strict";};ja.prototype.isStory=function(ka){"use strict";};ja.prototype.isHoldoutStory=function(ka){"use strict";};ja.prototype.getHeadline=function(ka){"use strict";};ja.prototype.getPreviousStory=function(ka){"use strict";};ja.prototype.getNextStory=function(ka){"use strict";};ja.prototype.setSelected=function(ka,la){"use strict";};ja.prototype.clickLike=function(){"use strict";};ja.prototype.clickComment=function(){"use strict";};ja.prototype.clickShare=function(){"use strict";};ja.prototype.clickSeeMore=function(){"use strict";};ja.prototype.clickLeft=function(){"use strict";};ja.prototype.clickRight=function(){"use strict";};ja.prototype.openAttachment=function(){"use strict";};ja.prototype.focusComposer=function(){"use strict";var ka=p.scry(da('pagelet_composer'),'textarea')[0];if(ka){t.set(ka);q.scrollToTop(true);}};ja.prototype.getScrollOffset=function(){"use strict";return 10;};ja.prototype.getAnimationLength=function(ka){"use strict";return Math.min(Math.abs(aa.getElementPosition(ka).y-ba.getTop()-document.body.scrollTop),400);};ja.prototype.findTop=function(){"use strict";var ka=this.getStories();for(var la=0;la<ka.length;la++)if(aa.getElementPosition(ka[la]).y>aa.getScrollPosition().y)return ka[la];};ja.prototype.onLeave=function(){"use strict";this.subscriptions&&this.subscriptions.release();};ja.prototype.getHelpDialogRequest=function(){"use strict";if(!this.dialogRequest){this.dialogRequest=new k('/ajax/keyboard_shortcuts');this.dialogRequest.setReadOnly(true);}else if(this.dialogRequest.transport)return null;return this.dialogRequest;};ja.prototype.init=function(){"use strict";y.onLeave(this.onLeave.bind(this));this.subscriptions=new z();this.subscriptions.addSubscriptions(i.subscribe(w.NAVIGATION_BEGIN,this.onLeave.bind(this)),u.register('j',this.vert.bind(this,1)),u.register('k',this.vert.bind(this,-1)),u.register('l',function(){var ka=this.getParentStory(ea());v.like(function(){this.setSelected(ka,false);this.clickLike();}.bind(this),ea());}.bind(this),{filter:this.hasActiveStory.bind(this)}),u.register('c',this.clickComment.bind(this),{filter:this.hasActiveStory.bind(this)}),u.register('o',this.openAttachment.bind(this),{filter:this.hasActiveStory.bind(this)}),u.register('p',this.focusComposer.bind(this)),u.register('s',this.clickShare.bind(this),{filter:this.hasActiveStory.bind(this)}),u.register('SLASH',function(){var ka=this.getHelpDialogRequest();ka&&j.send(ka);}.bind(this),{filter:function(event,ka){return event.getModifiers().shift;}}),u.register('RETURN',this.clickSeeMore.bind(this),{filter:this.hasExpandableStoryInFocus.bind(this)}),u.register('LEFT',this.clickLeft.bind(this),{filter:this.hasActiveStory.bind(this)}),u.register('RIGHT',this.clickRight.bind(this),{filter:this.hasActiveStory.bind(this)}),s.listen(document,'focusin',function(event){var ka=event.getTarget(),la=(ka.nodeName=='OBJECT'||ka.nodeName=='EMBED'||ka.nodeName=='IFRAME'),ma=this.getParentStory(ka);if(ma&&(this.selected!=ma)&&!la){this.setSelected(ma,false);if(!this.isInteractive(ka))this.setFocused(ma);}}.bind(this)));};ja.prototype.hasActiveStory=function(event,ka){"use strict";var la=ea();return !(la&&o.shown(la))||!!this.getParentStory(la);};ja.prototype.hasExpandableStoryInFocus=function(event,ka){"use strict";var la=ea();return (la.getElementsByClassName('text_exposed_root').length&&!la.getElementsByClassName('text_exposed_root text_exposed').length);};ja.prototype.click=function(ka){"use strict";if(!this.selected)return;var la;for(var ma=0,na=arguments.length;ma<na;ma++){la=p.scry(this.selected,arguments[ma])[0];if(la&&o.shown(la)){la.click();return;}}};ja.prototype.vert=function(ka){"use strict";if(!this.scrollInitialized){this.subscriptions.addSubscriptions(s.listen(document,'scroll',function(){if(this.selected&&!this.scrolling)this.setSelected(null,false);}.bind(this)));this.scrollInitialized=true;}var la,ma;if(this.selected){if(l.isEnabled('kbshortcuts_feed')){ma=ka>0?'kbshortcuts.scroll_down':'kbshortcuts.scroll_up';m.bumpEntityKey('kbshortcuts_feed',ma);n.log('feed_scroll',ma,{});}h.logJKKey();if(this.selected.id=='pagelet_composer'){la=ka>0?this.getStories()[0]:null;if(this.isHoldoutStory(la))la=this.getPreviousStory(la);}else la=ka>0?this.getNextStory(this.selected):(this.getPreviousStory(this.selected)||da('pagelet_composer'));if(!la){return;}else if(!r.isElementNode(la)){o.removeClass(this.selected,'selectedStorySimple');this.selected=la;return this.vert(ka);}}if(!la||x.byClass(la,'hidden_elem')||!p.contains(document,la)){la=this.findTop();if(la&&ka<0)la=this.getPreviousStory(la);if(this.isHoldoutStory(la))la=this.getPreviousStory(la);}if(!la)return;this.anim&&this.anim.stop();var na=(Date.now()-(this.lastScroll||0)>30),oa=this.setFocused.bind(this,la);if(fa()){na=false;oa();oa=ca;}this.scrolling=true;this.scrollingTimer&&window.clearTimeout(this.scrollingTimer);this.anim=q.scrollTo(la,na?this.getAnimationLength(la):0,false,aa.getViewportDimensions().y-ha-this.getScrollOffset(),0,function(){this.scrollingTimer=window.setTimeout(function(){this.scrolling=false;}.bind(this),300);var pa=aa.getScrollPosition();oa();if(pa.distanceTo(aa.getScrollPosition())!==0)q.scrollTo(pa,0);}.bind(this));this.setSelected(la,true);this.lastScroll=Date.now();};ja.prototype.isInteractive=function(ka){"use strict";return ((ka.nodeName=='INPUT')||(ka.nodeName=='BUTTON')||(ka.nodeName=='TEXTAREA')||(ka.nodeName=='A')||!!x.byAttribute(ka,'contenteditable'));};ja.prototype.setTabindexOnHeadline=function(ka,la){"use strict";if(this.isStory(ka)){var ma=this.getHeadline(ka);if(ma)ma.tabIndex=la;}};ja.prototype.setTabindexOnStory=function(ka,la){"use strict";if(this.isStory(ka))ka.tabIndex=la;};ja.prototype.setFocused=function(ka){"use strict";if(this.isStory(ka))t.setWithoutOutline(ka);};e.exports=ja;},null);
__d("ViewportTracking",["Arbiter","AsyncSignal","Banzai","BanzaiScuba","CSS","cx","CurrentUser","DOMDimensions","Event","LitestandMessages","NavigationMessage","Run","SubscriptionsHandler","UserActivity","Vector","clickRefAction","collectDataAttributes","copyProperties","debounce","getElementPosition","throttle"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa){var ba=97,ca=51,da='vpv';function ea(){"use strict";}ea.prototype.init=function(fa){"use strict";this.useBanzai=true;this.banzaiNoDelay=!!fa.banzai_no_delay;this.banzaiRetry=!!fa.banzai_retry;this.viewportHeightRatio=fa.viewport_height_ratio?fa.viewport_height_ratio:.25;this.vpvDebug=!!fa.vpv_debug;this.useWaterfallLogging=!!fa.waterfall_logging;this.loggedStoryIDs={};this.readStoryIDs={};this.minSizeToBeVisible=200;this.minFractionToBeVisibleForTimetracking=.5;this.minFractionForAdditionalView=0;this.timetrackingThrottlingInterval=100;this.minTimeToReportImmediately=500;this.cachedAllStories=null;this.cachedViewportHeight=n.getViewportDimensions().height;this.isTimetrackingEnabled=0;this.storyEnteredVPTimestamp={};this.alreadyLoggedDurationStories=[];this.userInactiveLock=false;this.userActivityPollerTimeoutID=-1;this._headLoadStoryCount=0;this.getDataFromConfig(fa);this.isLoose=!!fa.is_loose;this.maxScrollPosition=0;if(fa.tracking_duration_config){this.timetrackingThrottlingInterval=fa.tracking_duration_config.timetracking_throttling_interval;this.userActivityPollingInterval=fa.tracking_duration_config.user_activity_polling_interval;this.timeToBeConsideredInactive=fa.tracking_duration_config.time_to_be_considered_inactive;this.minFractionToBeVisibleForTimetracking=fa.tracking_duration_config.min_fraction_to_be_visible;this.minTimeToReportImmediately=fa.tracking_duration_config.min_time_to_report_immediately;this.minFractionForAdditionalView=fa.tracking_duration_config.min_fraction_for_additional_view;this.localStorageLogMinDurationMs=fa.tracking_duration_config.local_storage_log_min_duration_ms;}var ga,ha=y(this.fireTimer,this.getTimeout(),this);if(this.isLoose){this.minSizeToBeVisible=0;ga=aa(function(){this.maxScrollPosition=Math.max(this.maxScrollPosition,u.getScrollPosition().y);ha();}.bind(this));}else ga=ha;this.initialStories=this.getStoriesInView();this.initialStoriesLogged=false;if(this.useWaterfallLogging)this.getStoriesInView().forEach(function(ja){this.waterfallLogStep(ja,'100_all_stories_in_view_ignore_height',true);},this);this.vpvHeartBeatInterval=fa.vpv_heartbeat_interval;this.passVPVHeartbeatGK=fa.use_vpv_heartbeat;if(this.passVPVHeartbeatGK){this.intervalCount=1;this.fireTimerCount=1;this.storiesInView=this.initialStories?this.initialStories:this.getStoriesInView();this.vpvHeartBeatIntervalSignal=setInterval(function(){this._sendSignal('interval');}.bind(this),this.vpvHeartBeatInterval);}var ia=aa(this.updateTimeTrackingData.bind(this,false),this.timetrackingThrottlingInterval);this.subscriptions=new s();this.subscriptions.addSubscriptions(this._getScrollListener(ga),o.listen(window,'resize',function(){this.cachedViewportHeight=n.getViewportDimensions().height;ga();}.bind(this)),g.subscribe(q.NAVIGATION_BEGIN,this.cleanup.bind(this)),g.subscribe('Stream/totalHeadLoadedStories',function(ja,ka){this._headLoadStoryCount=ka;}.bind(this)),g.subscribe(p.STORIES_INSERTED,function(){ga();}.bind(this)));if(this.isTimetrackingEnabled){this.updateTimeTrackingData(false);this.subscriptions.addSubscriptions(this._getScrollListener(ia));this._userActivityPoller();}r.onLeave(this.cleanup.bind(this));};ea.prototype._getScrollListener=function(fa){"use strict";return o.listen(window,'scroll',fa);};ea.prototype.cleanup=function(){"use strict";if(this.subscriptions){this.subscriptions.release();this.subscriptions=null;}if(this.isTimetrackingEnabled){clearTimeout(this.userActivityPollerTimeoutID);this.updateTimeTrackingData(true);}if(this.passVPVHeartbeatGK)clearInterval(this.vpvHeartBeatIntervalSignal);this.initialStories=[];this._headLoadStoryCount=0;};ea.prototype.fireTimer=function(){"use strict";if(this.useWaterfallLogging){var fa=this.getStoriesInViewIgnoreHeight();fa.forEach(function(ga){this.waterfallLogStep(ga,'100_all_stories_in_view_ignore_height');},this);}if(!this.initialStoriesLogged){this.initialStories.forEach(this.markStoryRead,this);this.initialStoriesLogged=true;}this.storiesInView=this.getStoriesInView();this.addSeenClass();this.storiesInView.forEach(this.markStoryRead,this);if(this.passVPVHeartbeatGK)this._sendSignal('fireTimer');};ea.prototype.heartBeatIsEnabled=function(){"use strict";return false;};ea.prototype.getSessionID=function(){"use strict";return null;};ea.prototype._sendSignal=function(fa){"use strict";if(!this.heartBeatIsEnabled())return;var ga=-1;if(fa=='interval'){ga=this.intervalCount++;}else if(fa=='fireTimer')ga=this.fireTimerCount++;var ha=-1,ia=-1,ja=-1;if(this.storiesInView.length>0){ha=this.getStoryID(this.storiesInView[0]);ia=this.getQueryID(this.storiesInView[0]);ja=this.getFBFeedLocations(this.storiesInView[0]);}var ka=new j('vpv_heartbeat_js');ka.addInteger('qid',ia);ka.addInteger('uid',m.getID());ka.addInteger('firststoryid',ha);ka.addInteger('time',Math.round(Date.now()/1000));ka.addNormal('type',fa);ka.addInteger('count',ga);ka.addInteger('fbfeed_location',ja);ka.post();};ea.prototype._userActivityPoller=function(){"use strict";if(!this.userInactiveLock&&!t.isActive(this.timeToBeConsideredInactive)){this.userInactiveLock=true;this.updateTimeTrackingData(true);t.subscribeOnce(function(){this.updateTimeTrackingData(false);this.userInactiveLock=false;}.bind(this));}this.userActivityPollerTimeoutID=setTimeout(this._userActivityPoller.bind(this),this.userActivityPollingInterval);};ea.prototype.getQueryID=function(fa){"use strict";return -1;};ea.prototype.getFBFeedLocations=function(fa){"use strict";return -1;};ea.prototype.addVisibleStoriesTimestamps=function(fa,ga){"use strict";var ha={};for(var ia=0,ja=fa.length;ia<ja;ia++){var ka=this.getStoryID(fa[ia]);ha[ka]=true;if(ka in this.storyEnteredVPTimestamp)continue;this.storyEnteredVPTimestamp[ka]={ts:ga,story:fa[ia]};}return ha;};ea.prototype.removeTimestampsOfStoriesNotInView=function(fa,ga){"use strict";for(var ha in this.storyEnteredVPTimestamp)if(!(ha in fa)){this.recordTimeStoryWasInView(this.storyEnteredVPTimestamp[ha].story,this.storyEnteredVPTimestamp[ha].ts,ga);delete this.storyEnteredVPTimestamp[ha];}};ea.prototype.updateTimeTrackingData=function(fa){"use strict";if(!this.storyEnteredVPTimestamp)this.storyEnteredVPTimestamp={};var ga=Date.now(),ha={},ia;if(!fa)ha=this.getAllStoriesInView();ia=this.addVisibleStoriesTimestamps(ha,ga);this.removeTimestampsOfStoriesNotInView(ia,ga);};ea.prototype.getStoriesInView=function(){"use strict";var fa=this.getAllStories(),ga=[],ha=false;for(var ia=0;ia<fa.length;ia++){var ja=fa[ia],ka=this.getStoryID(ja);if(this.hasBeenVisible(ka))continue;if(this.isVisible(ja)){if(ja.getAttribute('data-insertion-position')===null)ja.setAttribute('data-insertion-position',ia-this._headLoadStoryCount);ga.push(ja);ha=true;}else if(ha)break;}return ga;};ea.prototype.getStoriesInViewIgnoreHeight=function(){"use strict";var fa=this.getAllStories(),ga=false,ha=[];for(var ia=0;ia<fa.length;ia++){var ja=fa[ia];if(this.isVisible(ja,false,0)){ha.push(ja);ga=true;}else if(ga)break;}return ha;};ea.prototype.getAllStoriesFromCache=function(){"use strict";if(this.cachedAllStories===null)this.cachedAllStories=this.getAllStories();return this.cachedAllStories;};ea.prototype.invalidateAllStoriesCache=function(){"use strict";this.cachedAllStories=null;};ea.prototype.getAllStoriesInView=function(){"use strict";var fa=this.getAllStoriesFromCache(),ga=[],ha=false,ia=0,ja=fa.length,ka=1;if(this._indexOfLastVisibleStoryOnPreviousPass>ja/2){ia=ja-1;ja=-1;ka=-ka;}for(var la=ia;la!=ja;la+=ka){var ma=fa[la];if(this.isVisible(ma,false,this.minFractionToBeVisibleForTimetracking*n.getElementDimensions(ma).height)){if(ma.getAttribute('data-insertion-position')===null)ma.setAttribute('data-insertion-position',la-this._headLoadStoryCount);ga.push(ma);ha=true;}else if(ha){this._indexOfLastVisibleStoryOnPreviousPass=la-ka;break;}}for(la=this.alreadyLoggedDurationStories.length-1;la>=0;la--){ma=this.alreadyLoggedDurationStories[la];if(!this.isVisible(ma,false,this.minFractionForAdditionalView*n.getElementDimensions(ma).height))this.alreadyLoggedDurationStories.splice(la,1);}return ga;};ea.prototype.getTimetrackingDataToLog=function(fa,ga,ha){"use strict";var ia={evt:ba,vpvd_start_timestamp:ga,vpvd_time_delta:ha-ga,story_height:n.getElementDimensions(fa).height,viewport_height:this.cachedViewportHeight};return {ft:ia};};ea.prototype.recordTimeStoryWasInView=function(fa,ga,ha){"use strict";if(this.isTimetrackingEnabled){if(this.alreadyLoggedDurationStories.indexOf(fa)>-1){return;}else this.alreadyLoggedDurationStories.push(fa);var ia=this.getTimetrackingDataToLog(fa,ga,ha),ja=w(fa,['ft']);x(ia.ft,ja.ft);var ka=!!ja.ft.ei&&(ia.ft.vpvd_time_delta>this.minTimeToReportImmediately);delete ia.ei;this.sendDataToLog(fa,ia,ka,false);}};ea.prototype.hasBeenVisible=function(fa){"use strict";return fa in this.readStoryIDs;};ea.prototype.isVisible=function(fa,ga,ha){"use strict";if(typeof ga==="undefined")ga=this.isLoose;if(typeof ha==="undefined")ha=this.minSizeToBeVisible;var ia=u.getScrollPosition().y,ja=n.getViewportDimensions().height,ka=z(fa),la=n.getElementDimensions(fa),ma=ja+this.maxScrollPosition-ia;if(!ka.x&&!ka.y&&!la.x&&!la.y)return false;if(ga&&ka.y<ma)return true;var na=Math.max(ka.y,0),oa=Math.min(ka.y+la.height,ja),pa=Math.min(la.height,ha);return (oa-na)>=pa;};ea.prototype.getHeightInViewport=function(fa){"use strict";var ga=n.getViewportDimensions().height,ha=z(fa),ia=n.getElementDimensions(fa);if(!ha.x&&!ha.y&&!ia.x&&!ia.y)return false;var ja=Math.max(ha.y,0),ka=Math.min(ha.y+ia.height,ga);return ka-ja;};ea.prototype.sendDataToLog=function(fa,ga,ha,ia){"use strict";if(this.useBanzai){var ja={};if(ha)ja.delay=3000;if(ia)ja.retry=true;var ka=this.getSessionID();if(ka)ga.ft.session_id=ka;if(this.useWaterfallLogging&&ga.ft.evt==ca){ga.ft.should_waterfall_logging=1;var la=!this.initialStoriesLogged;this.waterfallLogStep(fa,'200_sent_to_banzai',la);}i.post('feed_tracking',ga,ja);}else v(da,fa,null,'FORCE',ga);};ea.prototype.waterfallLogStep=function(fa,ga,ha){"use strict";var ia=this.getWaterfallData(fa,ga,ha),ja=this.getStoryID(fa);if(this.loggedStoryIDs[ga]&&this.loggedStoryIDs[ga][ja])return;new h('/ajax/feed/feed_tracking/vpv_waterfall_logging',ia).send();if(!this.loggedStoryIDs[ga])this.loggedStoryIDs[ga]={};this.loggedStoryIDs[ga][ja]=true;};ea.prototype.getWaterfallData=function(fa,ga,ha){"use strict";var ia=this.getDataToLog(fa),ja=w(fa,['ft']);x(ia.ft,ja.ft);ia.ft.height_in_viewport=this.getHeightInViewport(fa);ia.ft.step=ga;ia.ft.is_initial_story=0;if(ha)ia.ft.is_initial_story=1;return ia.ft;};ea.prototype.addSeenClass=function(){"use strict";var fa=this.getAllStories(),ga=n.getViewportDimensions().height*this.viewportHeightRatio;for(var ha=0;ha<fa.length;ha++){var ia=fa[ha],ja=this.getStoryID(ia),ka=z(ia);if(ja&&ka.y+ka.height<ga&&this.hasBeenVisible(ja)&&(k.hasClass(ia,"_50mx")||k.hasClass(ia,"_2z-5"))){k.addClass(ia,"_50nb");k.removeClass(ia,"_50mx");k.removeClass(ia,"_2z-5");}}};ea.prototype.markStoryRead=function(fa){"use strict";var ga=this.getStoryID(fa);if(!ga||this.hasBeenVisible(ga))return;this.readStoryIDs[ga]=true;var ha=this.getDataToLog(fa),ia=w(fa,['ft']);x(ha.ft,ia.ft);delete ha.ei;this.sendDataToLog(fa,ha,this.banzaiNoDelay,this.banzaiRetry);k.addClass(fa,"_x72");if(this.vpvDebug)k.addClass(fa,"_5m7s");};e.exports=ea;},null);
__d("GroupViewportTracking",["DOM","csx","ViewportTracking","Banzai","$"],function(a,b,c,d,e,f,g,h,i,j,k){for(var l in i)if(i.hasOwnProperty(l))n[l]=i[l];var m=i===null?null:i.prototype;n.prototype=Object.create(m);n.prototype.constructor=n;n.__superConstructor__=i;function n(){"use strict";if(i!==null)i.apply(this,arguments);}n.prototype.getDataFromConfig=function(o){"use strict";this.timeout=o.record_delay;};n.prototype.getTimeout=function(){"use strict";return this.timeout;};n.prototype.getAllStories=function(){"use strict";return g.scry(k('pagelet_group_mall'),"._5pat");};n.prototype.getStoryID=function(o){"use strict";var p=JSON.parse(o.getAttribute('data-ft'));return p.id;};n.prototype.getDataToLog=function(o){"use strict";return JSON.parse(o.getAttribute('data-ft'));};n.prototype.sendDataToLog=function(o,p){"use strict";if(this.useBanzai)j.post('group_feed_tracking',p);};e.exports.init=function(o){n.instance=new n();n.instance.init(o);};e.exports.getInstance=function(){return n.instance;};},null);
__d("BookmarkFeedSorter",["Run"],function(a,b,c,d,e,f,g){var h,i={init:function(j){h=j;g.onLeave(function(){h=null;});},setChecked:function(j){if(h)h.setValue(j);}};e.exports=i;},null);
__d("LitestandComposerBase",["Animation","Arbiter","ComposerXController","ComposerXMarauderLogger","DOM","Run","SubscriptionsHandler","copyProperties"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o=600;function p(q){this._composerID=q;this._subscriptions=new m();this.init();}n(p.prototype,{init:function(){this._subscriptions.addSubscriptions(h.subscribe('LitestandComposer/publish',function(q,r){if(r.composer_id===this._composerID)this.liveInsertComposerStory(this._composerID,r.markup);}.bind(this)));l.onLeave(this._cleanup.bind(this));},_cleanup:function(){this._subscriptions&&this._subscriptions.release();this._subscriptions=null;},liveInsertComposerStory:function(q,r){q&&i.reset(q);if(!r)return;k.prependContent(this.getStreamRoot(),r);new g(r).from('opacity',0).to('opacity',1).duration(o).go();j.logCompleted(q);},getStreamRoot:function(){}});e.exports=p;},null);
__d("LitestandComposer",["Arbiter","LitestandComposerBase","LitestandStream"],function(a,b,c,d,e,f,g,h,i){for(var j in h)if(h.hasOwnProperty(j))l[j]=h[j];var k=h===null?null:h.prototype;l.prototype=Object.create(k);l.prototype.constructor=l;l.__superConstructor__=h;function l(){"use strict";if(h!==null)h.apply(this,arguments);}l.prototype.init=function(){"use strict";k.init.call(this);this._subscriptions.addSubscriptions(g.subscribe('LitestandComposer/globalPublish',function(m,n){if(n.top_news_id===i.getSectionID())this.liveInsertComposerStory(null,n.markup);}.bind(this)));};l.prototype.getStreamRoot=function(){"use strict";return i.getStreamRoot();};l.initComposer=function(m){"use strict";new l(m);};e.exports=l;},null);
__d("MercuryLeftNav",["Arbiter","MessagingTag","NavigationMessage","MercuryThreadInformer","MercuryUnreadState"],function(a,b,c,d,e,f,g,h,i){var j=b('MercuryThreadInformer').get(),k=b('MercuryUnreadState').get(),l=false;function m(){var o=k.getUnreadCount(h.INBOX);g.inform(i.NAVIGATION_COUNT_UPDATE,{key:'inbox',hide:true});g.inform(i.NAVIGATION_COUNT_UPDATE,{key:'inbox',count:o});}var n={bootstrap:function(){if(l)return;j.subscribe('unread-updated',m);l=true;}};e.exports=n;},null);
__d("SaveState",[],function(a,b,c,d,e,f){var g={SAVING:'saving',SAVED:'saved',UNSAVING:'unsaving',UNSAVED:'unsaved'};e.exports=g;},null);
__d("SaveStateHandler",["Run","SaveState"],function(a,b,c,d,e,f,g,h){var i=null;function j(){"use strict";this.$SaveStateHandler0={};this.$SaveStateHandler1={};g.onLeave(function(){i=null;});}j.prototype.addListener=function(k,l){"use strict";k.forEach(function(m){if(!this.$SaveStateHandler0[m])this.$SaveStateHandler0[m]=[];this.$SaveStateHandler0[m].push(l);},this);};j.prototype.setState=function(k,l){"use strict";k.forEach(function(m){this.$SaveStateHandler1[m]=l;if(!this.$SaveStateHandler0[m])return;var n=this.$SaveStateHandler0[m];n.forEach(function(o){try{o.call(window,l,m);}catch(p){}});},this);};j.prototype.getState=function(k){"use strict";var l={};k.forEach(function(m){l[m]=this.$SaveStateHandler1[m];},this);return l;};j.$SaveStateHandler2=function(){"use strict";if(!i)i=new j();return i;};j.listen=function(k,l){"use strict";this.$SaveStateHandler2().addListener(k,l);};j.getState=function(k){"use strict";this.$SaveStateHandler2().getState(k);};j.saving=function(k){"use strict";this.$SaveStateHandler2().setState(k,h.SAVING);};j.saved=function(k){"use strict";this.$SaveStateHandler2().setState(k,h.SAVED);};j.unsaving=function(k){"use strict";this.$SaveStateHandler2().setState(k,h.UNSAVING);};j.unsaved=function(k){"use strict";this.$SaveStateHandler2().setState(k,h.UNSAVED);};j.isSaveAction=function(k){"use strict";var l=this.$SaveStateHandler2().getState(k);for(var m in l){var n=l[m];if(n==h.UNSAVED||n==h.UNSAVING)return true;}return false;};e.exports=j;},null);
__d("SaveCaretMenuItem",["Banzai","CSS","DOM","EntstreamFeedObject","EntstreamFeedObjectFollowup","Event","MenuItem","SaveState","SaveStateHandler","cx","ge"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){var r='saved_for_later:caret_action',s='click',t='imp';for(var u in m)if(m.hasOwnProperty(u))w[u]=m[u];var v=m===null?null:m.prototype;w.prototype=Object.create(v);w.prototype.constructor=w;w.__superConstructor__=m;function w(x){"use strict";m.call(this,x);this._updateData();this.getRoot();l.listen(this._anchor,'error',this.handleError.bind(this));o.listen(x.ogobjectids,function(y){this._updateData();this._doRender(y);}.bind(this));}w.prototype.handleClick=function(){"use strict";var x=v.handleClick.call(this),y=this._data.logdata;g.post(r,{action:s,collection_id:y.collection_id,surface:y.surface,story_id:y.story_id,is_save:this._data.isSaveAction,is_multi:y.is_multi});var z=j.getRoot(q(this._data.storydomid));if(this._data.isSaveAction){o.saving(this._data.ogobjectids);z&&k.addFollowup(z,this._data.savefollowupmarkup,"_521o");}else{o.unsaving(this._data.ogobjectids);var aa=k.getFollowup(z);aa&&k.removeFollowup(z);}return x;};w.prototype.handleError=function(){"use strict";if(this._data.isSaveAction){o.saved(this._data.ogobjectids);}else o.unsaved(this._data.ogobjectids);};w.prototype._updateData=function(){"use strict";this._data.isSaveAction=o.isSaveAction(this._data.ogobjectids);if(this._data.isSaveAction){this._data.markup=this._data.savemarkup;this._data.ajaxify=this._data.saveajaxify;}else{this._data.markup=this._data.unsavemarkup;this._data.ajaxify=this._data.unsaveajaxify;}};w.prototype._doRender=function(x){"use strict";if(!this._root)return;switch(x){case n.SAVING:case n.UNSAVING:h.addClass(this._root,"_5arm");setTimeout(this.disable.bind(this),10);break;case n.SAVED:case n.UNSAVED:h.removeClass(this._root,"_5arm");setTimeout(this.enable.bind(this),10);break;}i.replace(this._anchor,this._renderItemContent());l.listen(this._anchor,'error',this.handleError.bind(this));};w.prototype.onShow=function(){"use strict";var x=this._data.logdata;g.post(r,{action:t,collection_id:x.collection_id,surface:x.surface,story_id:x.story_id,is_save:this._data.isSaveAction,is_multi:x.is_multi});};e.exports=w;},null);
__d("FbFeedKeyboardController",["CSS","DOM","DOMQuery","FeedBaseKeyboardController","Focus","JSXDOM","Parent","FbFeedHighlight","csx","cx","ge","getActiveElement"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){function s(x){if(x.previousElementSibling)return x.previousElementSibling;x=x.previousSibling;while(x&&!h.isElementNode(x))x=x.previousSibling;return x||null;}function t(x){if(x.nextElementSibling)return x.nextElementSibling;x=x.nextSibling;while(x&&!h.isElementNode(x))x=x.nextSibling;return x||null;}for(var u in j)if(j.hasOwnProperty(u))w[u]=j[u];var v=j===null?null:j.prototype;w.prototype=Object.create(v);w.prototype.constructor=w;w.__superConstructor__=j;function w(){"use strict";if(j!==null)j.apply(this,arguments);}w.prototype.getStories=function(x){"use strict";return h.scry(x||this.root,"._5jmm");};w.prototype.isHoldoutStory=function(x){"use strict";return !!x&&g.hasClass(x,'holdoutAdStory');};w.prototype.isRelevantStory=function(x){"use strict";return i.isElementNode(x)&&!this.isHoldoutStory(x);};w.prototype.isStory=function(x){"use strict";return g.hasClass(x,"_5jmm");};w.prototype.clickLike=function(){"use strict";this.click('.UFILikeLink');var x=this.getParentStory(r());if(x){var y=h.scry(x,'.UFILikeLink');for(var z=0;z<y.length;z++)if(!g.hasClass(y[z],'accessible_elem'))k.setWithoutOutline(y[z]);}};w.prototype.clickComment=function(){"use strict";this.click('.comment_link');};w.prototype.clickShare=function(){"use strict";this.click('.share_action_link');};w.prototype.clickSeeMore=function(){"use strict";this.click('.see_more_link');};w.prototype.clickLeft=function(){"use strict";this.click("._1mri");};w.prototype.clickRight=function(){"use strict";this.click("._2fu-");};w.prototype.openAttachment=function(){"use strict";this.click("._5dec","a._52c6","._4-eo",'.uiVideoThumb');};w.prototype.getHeadline=function(x){"use strict";return i.scry(x,"h5._5pbw")[0];};w.prototype.getPreviousSibling=function(x){"use strict";var y=s(x);if(y&&this.getParentStory(y))return y;y=null;var z=m.byClass(x,"_5pcb");if(z){var aa=h.scry(z,"._5jmm"),ba=aa.indexOf(x);while(ba>-1){if(ba===0){y=q('pagelet_composer');y=y&&m.byClass(y,"_5jmm");}else if(ba>0){y=aa[ba-1];if(y.offsetHeight>0)break;}ba--;}}return y||this.selected;};w.prototype.getPreviousStory=function(x){"use strict";var y=this.getPreviousSibling(x);while(y&&!this.isStory(y))y=this.getPreviousSibling(y);return y;};w.prototype.getParentStory=function(x){"use strict";return m.byClass(x,"_5jmm");};w.prototype.getNextSibling=function(x){"use strict";var y=t(x);if(y&&this.getParentStory(y))return y;y=null;var z=m.byClass(x,"_5pcb");if(z){var aa=h.scry(z,"._5jmm"),ba=aa.indexOf(x);if(ba>-1){y=aa[++ba];while(y&&y.offsetHeight===0)y=aa[++ba];}}else if(q('pagelet_composer',x))y=h.scry(document,"div._5pcb ._5jmm")[0];return y||this.selected;};w.prototype.getNextStory=function(x){"use strict";var y=this.getNextSibling(x);while(y&&!this.isStory(y))y=this.getNextSibling(y);return y;};w.prototype.setSelected=function(x,y){"use strict";if(x){var z="_5qdu",aa=i.scry(x,"._5qdu");if(!aa.length&&y)h.prependContent(x,l.div({className:z}));}if(y){this.selected&&this.setTabindexOnStory(this.selected,'-1');this.selected&&g.removeClass(this.selected,"_5qdv");this.selected=x;x&&this.setTabindexOnStory(x,'0');x&&g.addClass(x,"_5qdv");n.highlightSingle(x);}};w.init=function(x){"use strict";new w(x);};e.exports=w;},null);